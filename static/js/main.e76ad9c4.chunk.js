(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[4],{108:function(t,e,n){"use strict";n.r(e);var c,r,a,u,o,i,s,b,j=n(0),d=n.n(j),O=n(29),f=n.n(O),l=n(47),h=n(12),p=n(24),g=n(5),x=n(21),m=n(50),v=n.n(m),k=n(3),y=n(9),C=n(11),w=Object(g.c)([],(c={},Object(k.a)(c,C.i,(function(t,e){return e.payload})),Object(k.a)(c,C.c,(function(t,e){var n=e.payload;return[].concat(Object(p.a)(t),[n])})),Object(k.a)(c,C.f,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),c)),N=Object(g.c)("",Object(k.a)({},C.j,(function(t,e){return e.payload}))),R=Object(g.c)(!1,(r={},Object(k.a)(r,C.b,(function(){return!0})),Object(k.a)(r,C.e,(function(){return!0})),Object(k.a)(r,C.h,(function(){return!0})),Object(k.a)(r,C.c,(function(){return!1})),Object(k.a)(r,C.f,(function(){return!1})),Object(k.a)(r,C.i,(function(){return!1})),Object(k.a)(r,C.d,(function(){return!1})),Object(k.a)(r,C.a,(function(){return!1})),Object(k.a)(r,C.g,(function(){return!1})),r)),L=function(t,e){return e.payload},A=Object(g.c)(null,(a={},Object(k.a)(a,C.d,L),Object(k.a)(a,C.a,L),Object(k.a)(a,C.g,L),a)),E=Object(y.c)({items:w,filter:N,loading:R,error:A}),S=n(4),T={name:null,email:null},q=Object(g.c)(T,(u={},Object(k.a)(u,S.l,(function(t,e){return e.payload.user})),Object(k.a)(u,S.f,(function(t,e){return e.payload.user})),Object(k.a)(u,S.i,(function(){return T})),Object(k.a)(u,S.c,(function(t,e){return e.payload})),u)),z=Object(g.c)(null,(o={},Object(k.a)(o,S.l,(function(t,e){return e.payload.token})),Object(k.a)(o,S.f,(function(t,e){return e.payload.token})),Object(k.a)(o,S.i,(function(){return null})),o)),I=function(t,e){return e.payload},B=Object(g.c)(null,(i={},Object(k.a)(i,S.j,I),Object(k.a)(i,S.d,I),Object(k.a)(i,S.g,I),Object(k.a)(i,S.a,I),i)),U=Object(g.c)(!1,(s={},Object(k.a)(s,S.l,(function(){return!0})),Object(k.a)(s,S.f,(function(){return!0})),Object(k.a)(s,S.c,(function(){return!0})),Object(k.a)(s,S.j,(function(){return!1})),Object(k.a)(s,S.d,(function(){return!1})),Object(k.a)(s,S.a,(function(){return!1})),Object(k.a)(s,S.i,(function(){return!1})),s)),H=Object(g.c)(!1,(b={},Object(k.a)(b,S.k,(function(){return!0})),Object(k.a)(b,S.e,(function(){return!0})),Object(k.a)(b,S.h,(function(){return!0})),Object(k.a)(b,S.b,(function(){return!0})),Object(k.a)(b,S.l,(function(){return!1})),Object(k.a)(b,S.f,(function(){return!1})),Object(k.a)(b,S.i,(function(){return!1})),Object(k.a)(b,S.c,(function(){return!1})),Object(k.a)(b,S.j,(function(){return!1})),Object(k.a)(b,S.d,(function(){return!1})),Object(k.a)(b,S.g,(function(){return!1})),Object(k.a)(b,S.a,(function(){return!1})),b)),J=Object(y.c)({user:q,token:z,error:B,IsAuthenticated:U,loading:H}),M=Object(p.a)(Object(g.d)({serializableCheck:{ignoredActions:[x.a,x.f,x.b,x.c,x.d,x.e]}})),D={key:"token",storage:v.a,whitelist:["token"]},F=Object(g.a)({reducer:{auth:Object(x.g)(D,J),contacts:E},devTools:!1,middleware:M}),G=Object(x.h)(F),K=n(19),P=(n(64),n(7)),Q={home:"/",contacts:"/contacts",register:"/register",login:"/login"},V=function(t){return t.auth.IsAuthenticated},W=function(t){return t.auth.user.name},X=n(16),Y=n(2),Z=Object(X.a)({nav:{display:"flex"},navLink:{color:"white",marginRight:"10px"},isActive:{color:"orange"}}),$=function(){var t=Z(),e=Object(h.d)(V);return Object(Y.jsxs)("nav",{className:t.nav,children:[Object(Y.jsx)(K.b,{exact:!0,to:Q.home,className:t.navLink,activeClassName:t.isActive,children:"Home"}),e&&Object(Y.jsx)(K.b,{to:Q.contacts,className:t.navLink,activeClassName:t.isActive,children:"Contacts"})]})},_=Object(X.a)({authBar:{display:"flex"},navLink:{color:"black",marginRight:"10px"},isActive:{color:"orange"}}),tt=function(){var t=_();return Object(Y.jsxs)("div",{className:t.authBar,children:[Object(Y.jsx)(K.b,{to:Q.login,className:t.navLink,activeClassName:t.isActive,children:"Login"}),Object(Y.jsx)(K.b,{to:Q.register,className:t.navLink,activeClassName:t.isActive,children:"Register"})]})},et=n(28),nt=n.p+"static/media/default-img.3d99fc51.png",ct=Object(X.a)({user:{display:"flex",justifyContent:"center",alignItems:"center"},userAvatar:{marginRight:"5px",borderRadius:"50%"},button:{display:"block",paddingRight:"10px",paddingLeft:"10px",marginLeft:"10px",backgroundColor:"rgba(181, 86, 38, 0.34)",color:"white",borderRadius:"5px",borderColor:"orange","&:hover":{color:"orange"}}}),rt=function(){var t=ct(),e=Object(h.d)(W),n=Object(h.c)();return Object(Y.jsxs)("div",{className:t.user,children:[Object(Y.jsx)("img",{className:t.userAvatar,src:nt,alt:"avatar",width:"32",height:"32"}),Object(Y.jsxs)("span",{children:["Hi,",e]}),Object(Y.jsx)("button",{className:t.button,type:"button",onClick:function(){return n(Object(et.c)())},children:"Logout"})]})},at=n(35),ut=Object(X.a)({header:{backgroundColor:"rgb(54, 140, 163)"},headerContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",marginRight:"auto",marginLeft:"auto"}}),ot=function(){var t=ut(),e=Object(h.d)(V);return Object(Y.jsx)("header",{className:t.header,children:Object(Y.jsx)(at.a,{children:Object(Y.jsxs)("div",{className:t.headerContainer,children:[Object(Y.jsx)($,{}),e?Object(Y.jsx)(rt,{}):Object(Y.jsx)(tt,{})]})})})},it=n(23),st=n(31),bt=function(t){var e=t.component,n=t.redirectTo,c=Object(st.a)(t,["component","redirectTo"]),r=Object(h.d)(V);return Object(Y.jsx)(P.b,Object(it.a)(Object(it.a)({},c),{},{render:function(t){return r?Object(Y.jsx)(e,Object(it.a)({},t)):Object(Y.jsx)(P.a,{to:n})}}))},jt=function(t){var e=t.component,n=t.redirectTo,c=Object(st.a)(t,["component","redirectTo"]),r=Object(h.d)(V);return Object(Y.jsx)(P.b,Object(it.a)(Object(it.a)({},c),{},{render:function(t){return r&&c.restricted?Object(Y.jsx)(P.a,{to:n}):Object(Y.jsx)(e,Object(it.a)({},t))}}))},dt=n(46),Ot=(n(107),Object(j.lazy)((function(){return n.e(3).then(n.bind(null,112))}))),ft=Object(j.lazy)((function(){return n.e(0).then(n.bind(null,115))})),lt=Object(j.lazy)((function(){return n.e(1).then(n.bind(null,113))})),ht=Object(j.lazy)((function(){return n.e(2).then(n.bind(null,114))})),pt=function(){var t=Object(h.c)();return Object(j.useEffect)((function(){t(Object(et.a)())}),[t]),Object(Y.jsxs)("div",{children:[Object(Y.jsx)(ot,{}),Object(Y.jsx)(j.Suspense,{fallback:Object(Y.jsx)(dt.a,{}),children:Object(Y.jsxs)(P.d,{children:[Object(Y.jsx)(jt,{exact:!0,path:Q.home,component:Ot}),Object(Y.jsx)(bt,{path:Q.contacts,component:ft,redirectTo:Q.login}),Object(Y.jsx)(jt,{path:Q.login,restricted:!0,component:lt,redirectTo:Q.contacts}),Object(Y.jsx)(jt,{path:Q.register,restricted:!0,component:ht,redirectTo:Q.contacts})]})})]})};f.a.render(Object(Y.jsx)(d.a.StrictMode,{children:Object(Y.jsx)(h.a,{store:F,children:Object(Y.jsx)(l.a,{loading:null,persistor:G,children:Object(Y.jsx)(K.a,{children:Object(Y.jsx)(pt,{})})})})}),document.getElementById("root"))},11:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"i",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"e",(function(){return b})),n.d(e,"f",(function(){return j})),n.d(e,"d",(function(){return d})),n.d(e,"j",(function(){return O}));var c=n(5),r=Object(c.b)("contacts/fetchContactsRequest"),a=Object(c.b)("contacts/fetchContactsSuccess"),u=Object(c.b)("contacts/fetchContactsError"),o=Object(c.b)("contacts/addContactRequest"),i=Object(c.b)("contacts/addContactSuccess"),s=Object(c.b)("contacts/addContactError"),b=Object(c.b)("contacts/deleteContactRequest"),j=Object(c.b)("contacts/deleteContactSuccess"),d=Object(c.b)("contacts/deleteContactError"),O=Object(c.b)("contacts/filterOut")},28:function(t,e,n){"use strict";n.d(e,"d",(function(){return j})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return O})),n.d(e,"a",(function(){return f}));var c=n(20),r=n.n(c),a=n(27),u=n(22),o=n.n(u),i=n(4);o.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var s=function(t){o.a.defaults.headers.common.Authorization="Bearer ".concat(t)},b=function(){o.a.defaults.headers.common.Authorization=""},j=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.k)()),e.prev=1,e.next=4,o.a.post("/users/signup",t);case 4:c=e.sent,s(c.data.token),n(Object(i.l)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.j)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},d=function(t){return function(){var e=Object(a.a)(r.a.mark((function e(n){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Object(i.e)()),e.prev=1,e.next=4,o.a.post("/users/login",t);case 4:c=e.sent,s(c.data.token),n(Object(i.f)(c.data)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),n(Object(i.d)(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(i.h)()),t.prev=1,t.next=4,o.a.post("/users/logout");case 4:b(),e(Object(i.i)()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e(Object(i.g)(t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},f=function(){return function(){var t=Object(a.a)(r.a.mark((function t(e,n){var c,a,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=n(),a=c.auth.token){t.next=3;break}return t.abrupt("return");case 3:return s(a),e(Object(i.b)()),t.prev=5,t.next=8,o.a.get("/users/current");case 8:u=t.sent,e(Object(i.c)(u.data)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e(Object(i.a)(t.t0.message));case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()}},35:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(0);var c=n(16),r=n(2),a=Object(c.a)({container:{margin:{right:"auto",left:"auto"},padding:"20px",width:"280px"},"@media (min-width: 720px)":{container:{width:680}},"@media (min-width: 1200px)":{container:{width:1160}}}),u=function(t){var e=t.children,n=a();return Object(r.jsx)("div",{className:n.container,children:e})}},4:function(t,e,n){"use strict";n.d(e,"k",(function(){return r})),n.d(e,"l",(function(){return a})),n.d(e,"j",(function(){return u})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"h",(function(){return b})),n.d(e,"i",(function(){return j})),n.d(e,"g",(function(){return d})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return f})),n.d(e,"a",(function(){return l}));var c=n(5),r=Object(c.b)("auth/registerRequest"),a=Object(c.b)("auth/registerSucces"),u=Object(c.b)("auth/registerError"),o=Object(c.b)("auth/loginRequest"),i=Object(c.b)("auth/loginSucces"),s=Object(c.b)("auth/loginError"),b=Object(c.b)("auth/logoutRequest"),j=Object(c.b)("auth/logoutSucces"),d=Object(c.b)("auth/logoutError"),O=Object(c.b)("auth/getCurrentUserRequest"),f=Object(c.b)("auth/getCurrentUserSucces"),l=Object(c.b)("auth/getCurrentUserError")},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var c=n(51),r=n.n(c),a=n(16),u=n(2),o=Object(a.a)({LoaderContainer:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"}}),i=function(){var t=o();return Object(u.jsx)("div",{className:t.LoaderContainer,children:Object(u.jsx)(r.a,{type:"Circles",color:"rgb(54, 140, 163)",height:100,width:100,timeout:3e3})})}},64:function(t,e,n){}},[[108,5,6]]]);
//# sourceMappingURL=main.e76ad9c4.chunk.js.map